<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MSP430 Peripheral Driver Library: spi.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="$relpath/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">spi.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="hw__types_8h_source.html">inc/hw_types.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="debug_8h_source.html">driverlib/5xx_6xx/debug.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="spi_8h_source.html">driverlib/5xx_6xx/spi.h</a>&quot;</code><br/>
<code>#include &quot;msp430xgeneric.h&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a47f58d76b6ab17bb7256cce57da44359">SPI_masterInit</a> (unsigned int baseAddress, unsigned char selectClockSource, unsigned long clockSourceFrequency, unsigned long desiredSpiClock, unsigned char msbFirst, unsigned char clockPhase, unsigned char clockPolarity)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a0aafeff23a5c3adff194090572fcf450">SPI_masterChangeClock</a> (unsigned int baseAddress, unsigned long clockSourceFrequency, unsigned long desiredSpiClock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a10b122a5935decab3846c4e1c14b122c">SPI_slaveInit</a> (unsigned int baseAddress, unsigned char msbFirst, unsigned char clockPhase, unsigned char clockPolarity)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a1641df164cab32282c16ec778c72bfb8">SPI_transmitData</a> (unsigned int baseAddress, unsigned char transmitData)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#ad9ca656164eb4b69e0f06d97c845514e">SPI_receiveData</a> (unsigned int baseAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#abc4455992944d530cfb0675e51bcfb8b">SPI_enableInterrupt</a> (unsigned int baseAddress, unsigned char mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aa72c5b1f81fe0fa2c09725b5fe98f37e">SPI_disableInterrupt</a> (unsigned int baseAddress, unsigned char mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a8fec5bb7c049664e6b9af01d8bf805c3">SPI_getInterruptStatus</a> (unsigned int baseAddress, unsigned char mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#ac2a06230892f21eeb7b2e05c7379ec49">SPI_clearInterruptFlag</a> (unsigned int baseAddress, unsigned char mask)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#aa903643efd31be6bb581819dbab47f0d">SPI_enable</a> (unsigned int baseAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a3536100dfa543f03420e0dab52277f17">SPI_disable</a> (unsigned int baseAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a438e3c3e91fecf7e42ca50fdbbee5826">SPI_getReceiveBufferAddressForDMA</a> (unsigned int baseAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#a485985d5bdaf4f740b594834912496b0">SPI_getTransmitBufferAddressForDMA</a> (unsigned int baseAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="spi_8c.html#ad3cc63769be52742d72b9d15a6f5f325">SPI_isBusy</a> (unsigned int baseAddress)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a47f58d76b6ab17bb7256cce57da44359"></a><!-- doxytag: member="spi.c::SPI_masterInit" ref="a47f58d76b6ab17bb7256cce57da44359" args="(unsigned int baseAddress, unsigned char selectClockSource, unsigned long clockSourceFrequency, unsigned long desiredSpiClock, unsigned char msbFirst, unsigned char clockPhase, unsigned char clockPolarity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short SPI_masterInit </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>selectClockSource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>clockSourceFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>desiredSpiClock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>msbFirst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clockPhase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clockPolarity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the SPI Master block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the I2C Master module. </td></tr>
    <tr><td class="paramname">selectClockSource</td><td>selects Clock source. Valid values are <b>SPI_CLOCKSOURCE_ACLK</b> <b>SPI_CLOCKSOURCE_SMCLK</b> </td></tr>
    <tr><td class="paramname">clockSourceFrequency</td><td>is the frequency of the slected clock source </td></tr>
    <tr><td class="paramname">desiredSpiClock</td><td>is the desired clock rate for SPI communication </td></tr>
    <tr><td class="paramname">msbFirst</td><td>controls the direction of the receive and transmit shift register. Valid values are <b>SPI_MSB_FIRST</b> <b>SPI_LSB_FIRST</b> [Default Value] </td></tr>
    <tr><td class="paramname">clockPhase</td><td>is clock phase select. Valid values are <b>SPI_PHASE_DATA_CHANGED_ONFIRST_CAPTURED_ON_NEXT</b> [Default Value] <b>SPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT</b> </td></tr>
    <tr><td class="paramname">clockPolarity_InactivityHIGH</td><td>is clock polarity select. Valid values are <b>SPI_CLOCKPOLARITY_INACTIVITY_HIGH</b> <b>SPI_CLOCKPOLARITY_INACTIVITY_LOW</b> [Default Value] Upon successful initialization of the SPI master block, this function will have set the bus speed for the master, but the SPI Master block still remains disabled and must be enabled with <a class="el" href="spi_8c.html#aa903643efd31be6bb581819dbab47f0d">SPI_enable()</a></td></tr>
  </table>
  </dd>
</dl>
<p>Modified bits are <b>UCCKPH</b>, <b>UCCKPL</b>, <b>UC7BIT</b>, <b>UCMSB</b> bits of <b>UCBxCTL0</b> register and <b>UCSSELx</b>, <b>UCSWRST</b> bits of <b>UCBxCTL1</b> register</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS </dd></dl>

<p>References <a class="el" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>, <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>, <a class="el" href="spi_8h.html#ac5b085653a7e758356e7fd94bb575ed2">SPI_CLOCKPOLARITY_INACTIVITY_HIGH</a>, <a class="el" href="spi_8h.html#abe7ab2a82a7adcd49bbaeed74a53c850">SPI_CLOCKPOLARITY_INACTIVITY_LOW</a>, <a class="el" href="spi_8h.html#ab5eac34c07b996f0b2971d0ffa3326d1">SPI_CLOCKSOURCE_ACLK</a>, <a class="el" href="spi_8h.html#aaba795c4b1e193132df112e2817cba34">SPI_CLOCKSOURCE_SMCLK</a>, <a class="el" href="spi_8h.html#a8d194446c8ac9f3c878ead3c9382c9e4">SPI_LSB_FIRST</a>, <a class="el" href="spi_8h.html#a701fce0a1e220262d9912911e87c9e00">SPI_MSB_FIRST</a>, <a class="el" href="spi_8h.html#ad3aa064d5d8715bdb9b83b91ffdf8793">SPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT</a>, <a class="el" href="spi_8h.html#ad63ff23b24f98cf09a8b397cbbaf41f7">SPI_PHASE_DATA_CHANGED_ONFIRST_CAPTURED_ON_NEXT</a>, and <a class="el" href="hw__memmap_8h.html#ae56fdb340b23940f7a64ed2e37c1774a">STATUS_SUCCESS</a>.</p>

</div>
</div>
<a class="anchor" id="a0aafeff23a5c3adff194090572fcf450"></a><!-- doxytag: member="spi.c::SPI_masterChangeClock" ref="a0aafeff23a5c3adff194090572fcf450" args="(unsigned int baseAddress, unsigned long clockSourceFrequency, unsigned long desiredSpiClock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_masterChangeClock </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>clockSourceFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>desiredSpiClock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the SPI Master block.At the end of this function call, SPI module is left enabled.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the I2C Master module. </td></tr>
    <tr><td class="paramname">clockSourceFrequency</td><td>is the frequency of the slected clock source </td></tr>
    <tr><td class="paramname">desiredSpiClock</td><td>is the desired clock rate for SPI communication </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>.</p>

</div>
</div>
<a class="anchor" id="a10b122a5935decab3846c4e1c14b122c"></a><!-- doxytag: member="spi.c::SPI_slaveInit" ref="a10b122a5935decab3846c4e1c14b122c" args="(unsigned int baseAddress, unsigned char msbFirst, unsigned char clockPhase, unsigned char clockPolarity)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short SPI_slaveInit </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>msbFirst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clockPhase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>clockPolarity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the SPI Slave block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI Slave module. </td></tr>
    <tr><td class="paramname">msbFirst</td><td>controls the direction of the receive and transmit shift register. Valid values are <b>SPI_MSB_FIRST</b> <b>SPI_LSB_FIRST</b> [Default Value] </td></tr>
    <tr><td class="paramname">clockPhase</td><td>is clock phase select. Valid values are <b>SPI_PHASE_DATA_CHANGED_ONFIRST_CAPTURED_ON_NEXT</b> [Default Value] <b>SPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT</b> </td></tr>
    <tr><td class="paramname">clockPolarity_InactivityHIGH</td><td>is clock polarity select. Valid values are <b>SPI_CLOCKPOLARITY_INACTIVITY_HIGH</b> <b>SPI_CLOCKPOLARITY_INACTIVITY_LOW</b> [Default Value] Upon successful initialization of the SPI slave block, this function will have initailized the slave block, but the SPI Slave block still remains disabled and must be enabled with <a class="el" href="spi_8c.html#aa903643efd31be6bb581819dbab47f0d">SPI_enable()</a></td></tr>
  </table>
  </dd>
</dl>
<p>Modified bits are UCMSB, UC7BIT, UCMST, UCCKPL, UCCKPH, UCMODE_3 bits of UCAxCTL0 and UCSWRST bits of UCAxCTL1 </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS </dd></dl>

<p>References <a class="el" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>, <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>, <a class="el" href="spi_8h.html#ac5b085653a7e758356e7fd94bb575ed2">SPI_CLOCKPOLARITY_INACTIVITY_HIGH</a>, <a class="el" href="spi_8h.html#abe7ab2a82a7adcd49bbaeed74a53c850">SPI_CLOCKPOLARITY_INACTIVITY_LOW</a>, <a class="el" href="spi_8h.html#a8d194446c8ac9f3c878ead3c9382c9e4">SPI_LSB_FIRST</a>, <a class="el" href="spi_8h.html#a701fce0a1e220262d9912911e87c9e00">SPI_MSB_FIRST</a>, <a class="el" href="spi_8h.html#ad3aa064d5d8715bdb9b83b91ffdf8793">SPI_PHASE_DATA_CAPTURED_ONFIRST_CHANGED_ON_NEXT</a>, <a class="el" href="spi_8h.html#ad63ff23b24f98cf09a8b397cbbaf41f7">SPI_PHASE_DATA_CHANGED_ONFIRST_CAPTURED_ON_NEXT</a>, and <a class="el" href="hw__memmap_8h.html#ae56fdb340b23940f7a64ed2e37c1774a">STATUS_SUCCESS</a>.</p>

</div>
</div>
<a class="anchor" id="a1641df164cab32282c16ec778c72bfb8"></a><!-- doxytag: member="spi.c::SPI_transmitData" ref="a1641df164cab32282c16ec778c72bfb8" args="(unsigned int baseAddress, unsigned char transmitData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_transmitData </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>transmitData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Transmits a byte from the SPI Module.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module. </td></tr>
    <tr><td class="paramname">transmitData</td><td>data to be transmitted from the SPI module</td></tr>
  </table>
  </dd>
</dl>
<p>This function will place the supplied data into SPI trasmit data register to start transmission</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

<p>References <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>.</p>

</div>
</div>
<a class="anchor" id="ad9ca656164eb4b69e0f06d97c845514e"></a><!-- doxytag: member="spi.c::SPI_receiveData" ref="ad9ca656164eb4b69e0f06d97c845514e" args="(unsigned int baseAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char SPI_receiveData </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Receives a byte that has been sent to the SPI Module.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module.</td></tr>
  </table>
  </dd>
</dl>
<p>This function reads a byte of data from the SPI receive data Register.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns the byte received from by the SPI module, cast as an unsigned char. </dd></dl>

<p>References <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>.</p>

</div>
</div>
<a class="anchor" id="abc4455992944d530cfb0675e51bcfb8b"></a><!-- doxytag: member="spi.c::SPI_enableInterrupt" ref="abc4455992944d530cfb0675e51bcfb8b" args="(unsigned int baseAddress, unsigned char mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_enableInterrupt </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enables individual SPI interrupt sources.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module. </td></tr>
    <tr><td class="paramname">mask</td><td>is the bit mask of the interrupt sources to be enabled.</td></tr>
  </table>
  </dd>
</dl>
<p>Enables the indicated SPI interrupt sources. Only the sources that are enabled can be reflected to the processor interrupt; disabled sources have no effect on the processor.</p>
<p>The mask parameter is the logical OR of any of the following:</p>
<ul>
<li><b>SPI_RECEIVE_INTERRUPT</b> -Receive interrupt</li>
<li><b>SPI_TRANSMIT_INTERRUPT</b> - Transmit interrupt</li>
</ul>
<p>Modified registers are UCAxIFG and UCAxIE</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

<p>References <a class="el" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>, <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>, <a class="el" href="spi_8h.html#aa6dbb247644146c971a684eee973fcbf">SPI_RECEIVE_INTERRUPT</a>, and <a class="el" href="spi_8h.html#a45d6f28926e77d1c4858a0868bb2fd19">SPI_TRANSMIT_INTERRUPT</a>.</p>

</div>
</div>
<a class="anchor" id="aa72c5b1f81fe0fa2c09725b5fe98f37e"></a><!-- doxytag: member="spi.c::SPI_disableInterrupt" ref="aa72c5b1f81fe0fa2c09725b5fe98f37e" args="(unsigned int baseAddress, unsigned char mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_disableInterrupt </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables individual SPI interrupt sources.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module. </td></tr>
    <tr><td class="paramname">mask</td><td>is the bit mask of the interrupt sources to be disabled.</td></tr>
  </table>
  </dd>
</dl>
<p>Disables the indicated SPI interrupt sources. Only the sources that are enabled can be reflected to the processor interrupt; disabled sources have no effect on the processor.</p>
<p>The mask parameter is the logical OR of any of the following:</p>
<ul>
<li><b>SPI_RECEIVE_INTERRUPT</b> -Receive interrupt</li>
<li><b>SPI_TRANSMIT_INTERRUPT</b> - Transmit interrupt</li>
</ul>
<p>Modified register is UCAxIE</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

<p>References <a class="el" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>, <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>, <a class="el" href="spi_8h.html#aa6dbb247644146c971a684eee973fcbf">SPI_RECEIVE_INTERRUPT</a>, and <a class="el" href="spi_8h.html#a45d6f28926e77d1c4858a0868bb2fd19">SPI_TRANSMIT_INTERRUPT</a>.</p>

</div>
</div>
<a class="anchor" id="a8fec5bb7c049664e6b9af01d8bf805c3"></a><!-- doxytag: member="spi.c::SPI_getInterruptStatus" ref="a8fec5bb7c049664e6b9af01d8bf805c3" args="(unsigned int baseAddress, unsigned char mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char SPI_getInterruptStatus </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets the current SPI interrupt status.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module. </td></tr>
    <tr><td class="paramname">mask</td><td>is the masked interrupt flag status to be returned.</td></tr>
  </table>
  </dd>
</dl>
<p>This returns the interrupt status for the SPI module based on which flag is passed. mask parameter can be either any of the following selection.</p>
<ul>
<li><b>SPI_RECEIVE_INTERRUPT</b> -Receive interrupt</li>
<li><b>SPI_TRANSMIT_INTERRUPT</b> - Transmit interrupt</li>
</ul>
<p>Modified registers are UCAxIFG.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current interrupt status as the mask of the set flags </dd></dl>

<p>References <a class="el" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>, <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>, <a class="el" href="spi_8h.html#aa6dbb247644146c971a684eee973fcbf">SPI_RECEIVE_INTERRUPT</a>, and <a class="el" href="spi_8h.html#a45d6f28926e77d1c4858a0868bb2fd19">SPI_TRANSMIT_INTERRUPT</a>.</p>

</div>
</div>
<a class="anchor" id="ac2a06230892f21eeb7b2e05c7379ec49"></a><!-- doxytag: member="spi.c::SPI_clearInterruptFlag" ref="ac2a06230892f21eeb7b2e05c7379ec49" args="(unsigned int baseAddress, unsigned char mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_clearInterruptFlag </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clears the selected SPI interrupt status flag.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module. </td></tr>
    <tr><td class="paramname">mask</td><td>is the masked interrupt flag to be cleared.</td></tr>
  </table>
  </dd>
</dl>
<p>The mask parameter is the logical OR of any of the following:</p>
<ul>
<li><b>SPI_RECEIVE_INTERRUPT</b> -Receive interrupt</li>
<li><b>SPI_TRANSMIT_INTERRUPT</b> - Transmit interrupt Modified registers are UCAxIFG.</li>
</ul>
<dl class="return"><dt><b>Returns:</b></dt><dd>None </dd></dl>

<p>References <a class="el" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>, <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>, <a class="el" href="spi_8h.html#aa6dbb247644146c971a684eee973fcbf">SPI_RECEIVE_INTERRUPT</a>, and <a class="el" href="spi_8h.html#a45d6f28926e77d1c4858a0868bb2fd19">SPI_TRANSMIT_INTERRUPT</a>.</p>

</div>
</div>
<a class="anchor" id="aa903643efd31be6bb581819dbab47f0d"></a><!-- doxytag: member="spi.c::SPI_enable" ref="aa903643efd31be6bb581819dbab47f0d" args="(unsigned int baseAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_enable </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Enables the SPI block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the USCI SPI module.</td></tr>
  </table>
  </dd>
</dl>
<p>This will enable operation of the SPI block. Modified bits are UCSWRST bit of UCAxCTL1 register.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

<p>References <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>.</p>

</div>
</div>
<a class="anchor" id="a3536100dfa543f03420e0dab52277f17"></a><!-- doxytag: member="spi.c::SPI_disable" ref="a3536100dfa543f03420e0dab52277f17" args="(unsigned int baseAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SPI_disable </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Disables the SPI block.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the USCI SPI module.</td></tr>
  </table>
  </dd>
</dl>
<p>This will disable operation of the SPI block.</p>
<p>Modified bits are UCSWRST bit of UCAxCTL1 register.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None. </dd></dl>

<p>References <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>.</p>

</div>
</div>
<a class="anchor" id="a438e3c3e91fecf7e42ca50fdbbee5826"></a><!-- doxytag: member="spi.c::SPI_getReceiveBufferAddressForDMA" ref="a438e3c3e91fecf7e42ca50fdbbee5826" args="(unsigned int baseAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long SPI_getReceiveBufferAddressForDMA </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the address of the RX Buffer of the SPI for the DMA module.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the address of the SPI RX Buffer. This can be used in conjunction with the DMA to store the received data directly to memory.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>NONE </dd></dl>

</div>
</div>
<a class="anchor" id="a485985d5bdaf4f740b594834912496b0"></a><!-- doxytag: member="spi.c::SPI_getTransmitBufferAddressForDMA" ref="a485985d5bdaf4f740b594834912496b0" args="(unsigned int baseAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long SPI_getTransmitBufferAddressForDMA </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the address of the TX Buffer of the SPI for the DMA module.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the address of the SPI TX Buffer. This can be used in conjunction with the DMA to obtain transmitted data directly from memory.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>NONE </dd></dl>

</div>
</div>
<a class="anchor" id="ad3cc63769be52742d72b9d15a6f5f325"></a><!-- doxytag: member="spi.c::SPI_isBusy" ref="ad3cc63769be52742d72b9d15a6f5f325" args="(unsigned int baseAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char SPI_isBusy </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>baseAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates whether or not the SPI bus is busy.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>is the base address of the SPI module.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns an indication of whether or not the SPI bus is busy.This function checks the status of the bus via UCBBUSY bit</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>SPI_BUSY if the SPI module trasmitting or receiving is busy; otherwise, returns SPI_NOT_BUSY. </dd></dl>

<p>References <a class="el" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>.</p>

</div>
</div>
</div>
<hr size="1" /><small>
Copyright  2011, Texas Instruments Incorporated</small>
</body>
</html>
