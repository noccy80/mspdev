<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MSP430 Peripheral Driver Library: tlv.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="$relpath/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<!-- Generated by Doxygen 1.7.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tlv.c File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="tlv_8h_source.html">driverlib/5xx_6xx/tlv.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="hw__types_8h_source.html">inc/hw_types.h</a>&quot;</code><br/>
<code>#include &quot;deprecated/CCS/msp430xgeneric.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="sfr__sys__base_address_8h_source.html">inc/sfr_sys_baseAddress.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="debug_8h_source.html">driverlib/5xx_6xx/debug.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8c.html#a03b37c07afee00287752928625180696">TLV_getInfo</a> (unsigned char tag, unsigned char instance, unsigned char *length, unsigned int **data_address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8c.html#a016a2c0f53057c0cf3a56db3a47dab13">TLV_getDeviceType</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8c.html#a84bad2fcad6fca2a5837e7d4568789c8">TLV_getMemory</a> (unsigned char instance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8c.html#abdebb5c0bb8bb717880fd18aad7636d1">TLV_getPeripheral</a> (unsigned char tag, unsigned char instance)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tlv_8c.html#af52c63a2815999f8bf32ad95e4827e41">TLV_getInterrupt</a> (unsigned char tag)</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a03b37c07afee00287752928625180696"></a><!-- doxytag: member="tlv.c::TLV_getInfo" ref="a03b37c07afee00287752928625180696" args="(unsigned char tag, unsigned char instance, unsigned char *length, unsigned int **data_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TLV_getInfo </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int **&#160;</td>
          <td class="paramname"><em>data_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The TLV structure uses a tag or base address to identify segments of the table where information is stored. Some examples of TLV tags are Peripheral Descriptor, Interrupts, Info Block and Die Record. This function retrieves the value of a tag and the length of the tag.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>represents the tag for which the information needs to be retrieved. Various tags such as ADC (TLV_TAG_ADCCAL), Peripheral Descriptor (TLV_TAG_PDTAG) are defined in the <a class="el" href="tlv_8h.html">tlv.h</a> file. </td></tr>
    <tr><td class="paramname">instance</td><td>- In some cases a specific tag may have more than one instance. For example there may be multiple instances of timer calibration data present under a single Timer Cal tag. This variable specifies the instance for which information is to be retrieved (0, 1, etc.). When only one instance exists; 0 is passed. </td></tr>
    <tr><td class="paramname">*length</td><td>acts as a return through indirect reference. The function retrieves the value of the TLV tag length. This value is pointed to by length and can be used by the application level once the function is called. If the specified tag is not found then the pointer is null 0. </td></tr>
    <tr><td class="paramname">**data_address</td><td>acts as a return through indirect reference. Once the function is called data_address points to the pointer that holds the values retrieved from the specified TLV tag. If the specified tag is not found then the pointer is null 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>NONE </dd></dl>

<p>Referenced by <a class="el" href="tlv_8h.html#af52c63a2815999f8bf32ad95e4827e41">TLV_getInterrupt()</a>, <a class="el" href="tlv_8h.html#a84bad2fcad6fca2a5837e7d4568789c8">TLV_getMemory()</a>, and <a class="el" href="tlv_8h.html#abdebb5c0bb8bb717880fd18aad7636d1">TLV_getPeripheral()</a>.</p>

</div>
</div>
<a class="anchor" id="a016a2c0f53057c0cf3a56db3a47dab13"></a><!-- doxytag: member="tlv.c::TLV_getDeviceType" ref="a016a2c0f53057c0cf3a56db3a47dab13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int TLV_getDeviceType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the unique device ID from the TLV structure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">NONE</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The device ID is returned as type unsigned int. </dd></dl>

<p>References <a class="el" href="tlv_8h.html#acee7dd6fdce7b2c75d8c22a220d54044">DEVICE_ID_0</a>.</p>

</div>
</div>
<a class="anchor" id="a84bad2fcad6fca2a5837e7d4568789c8"></a><!-- doxytag: member="tlv.c::TLV_getMemory" ref="a84bad2fcad6fca2a5837e7d4568789c8" args="(unsigned char instance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int TLV_getMemory </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Peripheral Descriptor tag is split into two portions – a list of the available flash memory blocks followed by a list of available peripherals. This function is used to parse through the first portion and calculate the total flash memory available in a device. The typical usage is to call the TLV_getMemory which returns a non-zero value until the entire memory list has been parsed. When a zero is returned, it indicates that all the memory blocks have been counted and the next address holds the beginning of the device peripheral list.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>In some cases a specific tag may have more than one instance. This variable specifies the instance for which information is to be retrieved (0, 1 etc). When only one instance exists; 0 is passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The returned value is zero if the end of the memory list is reached. </dd></dl>

<p>References <a class="el" href="tlv_8c.html#a03b37c07afee00287752928625180696">TLV_getInfo()</a>.</p>

<p>Referenced by <a class="el" href="tlv_8h.html#af52c63a2815999f8bf32ad95e4827e41">TLV_getInterrupt()</a>, and <a class="el" href="tlv_8h.html#abdebb5c0bb8bb717880fd18aad7636d1">TLV_getPeripheral()</a>.</p>

</div>
</div>
<a class="anchor" id="abdebb5c0bb8bb717880fd18aad7636d1"></a><!-- doxytag: member="tlv.c::TLV_getPeripheral" ref="abdebb5c0bb8bb717880fd18aad7636d1" args="(unsigned char tag, unsigned char instance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int TLV_getPeripheral </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The Peripheral Descriptor tag is split into two portions – a list of the available flash memory blocks followed by a list of available peripherals. This function is used to parse through the second portion and can be used to check if a specific peripheral is present in a device. The function calls <a class="el" href="tlv_8c.html#abdebb5c0bb8bb717880fd18aad7636d1">TLV_getPeripheral()</a> recursively until the end of the memory list and consequently the beginning of the peripheral list is reached.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>represents represents the tag for a specific peripheral for which the information needs to be retrieved. In the header file <a class="el" href="tlv_8h.html">tlv.h</a> specific peripheral tags are pre-defined, for example USCIA_B and TA0 are defined as TLV_PID_USCI_AB and TLV_PID_TA2 respectively. </td></tr>
    <tr><td class="paramname">instance</td><td>- In some cases a specific tag may have more than one instance. For example a device may have more than a single USCI module, each of which is defined by an instance number 0, 1, 2, etc. When only one instance exists; 0 is passed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The returned value is zero if the specified tag value (peripheral) is not available in the device. </dd></dl>

<p>References <a class="el" href="tlv_8c.html#a03b37c07afee00287752928625180696">TLV_getInfo()</a>, and <a class="el" href="tlv_8c.html#a84bad2fcad6fca2a5837e7d4568789c8">TLV_getMemory()</a>.</p>

</div>
</div>
<a class="anchor" id="af52c63a2815999f8bf32ad95e4827e41"></a><!-- doxytag: member="tlv.c::TLV_getInterrupt" ref="af52c63a2815999f8bf32ad95e4827e41" args="(unsigned char tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char TLV_getInterrupt </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This function is used to retrieve information on available interrupt vectors. It allows the user to check if a specific interrupt vector is defined in a given device.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>represents the tag for the interrupt vector. Interrupt vector tags number from 0 to N depending on the number of available interrupts. Refer to the device datasheet for a list of available interrupts.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The returned value is zero is the specified interrupt vector is not defined. </dd></dl>

<p>References <a class="el" href="tlv_8c.html#a03b37c07afee00287752928625180696">TLV_getInfo()</a>, and <a class="el" href="tlv_8c.html#a84bad2fcad6fca2a5837e7d4568789c8">TLV_getMemory()</a>.</p>

</div>
</div>
</div>
<hr size="1" /><small>
Copyright  2011, Texas Instruments Incorporated</small>
</body>
</html>
